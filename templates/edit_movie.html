{% extends "base.html" %}
{% block content %}

<h2>Edit: {{ movie.title }}</h2>
<form method="post" class="form">
  <label class="label">Title
    <input class="input" name="title" value="{{ movie.title }}" required>
  </label>

  <label class="label">Year
    <input class="input" name="year" value="{{ movie.year or '' }}" placeholder="1999" pattern="^[0-9]{4}$">
  </label>

  <label class="label">Personal rating (0â€“10)
    <input class="input" name="personal_rating" type="number" min="0" max="10"
           value="{{ movie.personal_rating if movie.personal_rating is not none else '' }}">
  </label>

  <label class="check">
    <input type="checkbox" name="watched" {% if movie.watched %}checked{% endif %}> Mark as watched
  </label>

  <div class="actions">
    <button class="btn" type="submit">Update</button>
    <a class="btn ghost" href="{{ url_for('web.html_index') }}">Cancel</a>
  </div>
</form>

<h3 style="margin-top:24px">Attach TMDB</h3>
<form method="post" action="{{ url_for('web.html_attach_tmdb', movie_id=movie.id) }}" class="form">
  <label class="label">TMDB ID
    <input class="input" name="tmdb_id" placeholder="e.g. 70160">
  </label>
  <div class="actions">
    <button class="btn" type="submit">Attach</button>
    <a class="btn ghost" href="{{ url_for('web.html_search') }}">Find on TMDB</a>
  </div>
</form>

{% endblock %}
